<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FindMe — Promoter</title>
  <link rel="stylesheet" href="./assets/css/styles.css" />
</head>
<body>
  <header class="header">
    <button id="burger" class="burger" aria-label="Open menu"></button>
    <div class="brand">
      <div class="logo"></div>
      <div>FindMe</div>
    </div>
    <nav class="row" style="gap:8px">
      <a class="link" href="./admin.html">Admin</a>
      <a class="link" href="./admin-stores.html">Stores</a>
    </nav>
  </header>
  <div id="overlay" class="overlay"></div>
  <aside id="drawer" class="drawer">
    <header><strong>Menu</strong></header>
    <a href="#section-campaigns" data-nav>Available campaigns</a>
    <a href="#section-applications" data-nav>My applications</a>
    <a href="#section-profile" data-nav>My profile</a>
    <a href="#section-checkin" data-nav>Store check-in</a>
  </aside>

  <main class="container">
    <!-- Auth Card -->
    <section id="auth-card" class="grid grid-2">
      <div class="card">
        <h2>Create account</h2>
        <form id="signup-form">
          <label for="su-name">Full name</label>
          <input id="su-name" placeholder="e.g., Sam Promoter" required />
          <div class="row">
            <div>
              <label for="su-email">Email</label>
              <input id="su-email" type="email" placeholder="you@example.com" required />
            </div>
            <div>
              <label for="su-phone">Phone</label>
              <input id="su-phone" type="tel" placeholder="+27 ..." required />
            </div>
          </div>
          <div class="row">
            <div>
              <label for="su-province">Province (South Africa)</label>
              <select id="su-province" required></select>
            </div>
            <div>
              <label for="su-pass">Password</label>
              <input id="su-pass" type="password" placeholder="••••••••" required />
            </div>
          </div>
          <div style="margin-top:10px"><button type="submit">Sign up</button></div>
        </form>
      </div>
      <div class="card">
        <h2>Sign in</h2>
        <form id="login-form">
          <label for="li-email">Email</label>
          <input id="li-email" type="email" placeholder="you@example.com" required />
          <label for="li-pass">Password</label>
          <input id="li-pass" type="password" placeholder="••••••••" required />
          <div style="margin-top:10px"><button type="submit">Sign in</button></div>
        </form>
      </div>
    </section>

    <!-- App -->
    <section id="promoter-app" class="hidden">
      <div class="row" style="justify-content:space-between; align-items:center; margin-bottom:8px">
        <h2 style="margin:0">Welcome, <span id="promoter-name"></span></h2>
        <button id="logout-btn" class="secondary">Log out</button>
      </div>

      <section id="section-campaigns" data-section class="card">
        <div class="section-title"><h2>Available campaigns</h2></div>
        <table class="table">
          <thead><tr><th>Campaign</th><th>Location/Date</th><th>Action</th></tr></thead>
          <tbody id="avail-tbody"></tbody>
        </table>
        <p class="help">Pay is handled privately with admins; this view intentionally hides rates.</p>
      </section>

      <section id="section-applications" data-section class="card hidden" style="margin-top:16px">
        <h2>My applications</h2>
        <table class="table">
          <thead><tr><th>Campaign</th><th>Location/Date/Store</th><th>Status</th></tr></thead>
          <tbody id="myapps-tbody"></tbody>
        </table>
      </section>

      <section id="section-checkin" data-section class="card hidden" style="margin-top:16px">
        <div class="section-title"><h2>Store check-in</h2></div>
        <div class="small muted">Tap your assigned store in <em>My applications</em> to load it here.</div>
        <div style="margin-top:8px">
          <div><strong id="ci-store" data-store="" data-campaign="">—</strong></div>
          <div class="small muted">Campaign: <span id="ci-campaign">—</span></div>
        </div>
        <div style="margin-top:12px; display:flex; align-items:center; gap:12px">
          <div class="badge"><span id="ci-timer">00:00:00</span></div>
          <button id="ci-btn">Check In</button>
        </div>
      </section>

      <section id="section-profile" data-section class="card hidden" style="margin-top:16px">
        <div class="section-title"><h2>My profile</h2><span id="kyc-badge" class="badge">Unverified</span></div>
        <p class="help">Do not enter real ID/banking data in this demo.</p>
        <form id="profile-form">
          <div class="row"><div><label for="pf-name">Full name</label><input id="pf-name" /></div><div><label for="pf-idnum">ID/Passport number</label><input id="pf-idnum" /></div></div>
          <div class="row"><div><label for="pf-email">Email</label><input id="pf-email" type="email" /></div><div><label for="pf-phone">Phone</label><input id="pf-phone" type="tel" /></div></div>
          <h3 class="small muted" style="margin-top:12px">Address</h3>
          <div class="row"><div><label for="pf-line1">Address line 1</label><input id="pf-line1" /></div><div><label for="pf-line2">Address line 2</label><input id="pf-line2" /></div></div>
          <div class="row"><div><label for="pf-city">City</label><input id="pf-city" /></div><div><label for="pf-postal">Postal code</label><input id="pf-postal" /></div><div><label for="pf-country">Country</label><input id="pf-country" value="South Africa" /></div></div>
          <div class="row"><div><label for="pf-province">Province</label><select id="pf-province"></select></div></div>
          <h3 class="small muted" style="margin-top:12px">Banking</h3>
          <div class="row"><div><label for="pf-accholder">Account holder</label><input id="pf-accholder" /></div><div><label for="pf-bankname">Bank name</label><input id="pf-bankname" /></div></div>
          <div class="row"><div><label for="pf-iban">IBAN</label><input id="pf-iban" placeholder="Optional" /></div><div><label for="pf-accnum">Account number</label><input id="pf-accnum" /></div></div>
          <div class="row"><div><label for="pf-acctype">Account type</label><input id="pf-acctype" placeholder="Cheque / Savings" /></div><div><label for="pf-branch">Branch code</label><input id="pf-branch" /></div></div>
          <h3 class="small muted" style="margin-top:12px">Emergency contact</h3>
          <div class="row"><div><label for="pf-emgname">Name</label><input id="pf-emgname" /></div><div><label for="pf-emgphone">Phone</label><input id="pf-emgphone" /></div><div><label for="pf-altphone">Alt phone</label><input id="pf-altphone" /></div></div>
          <div style="margin-top:12px"><button type="submit">Save profile</button></div>
        </form>
      </section>
    </section>
  </main>

  <footer>© <span id="y"></span> FindMe — promoter</footer>

  <script type="module" src="./assets/js/storage.js"></script>
  <script type="module" src="./assets/js/constants.js"></script>
  <script type="module" src="./assets/js/ui.js"></script>
  <script type="module" src="./assets/js/auth.js"></script>
  <script type="module" src="./assets/js/promoter.js"></script>
  <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
</body>
</html>