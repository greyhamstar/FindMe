
<!doctype html>
<html lang="en">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FindMe — Promoter</title><link rel="stylesheet" href="./assets/css/styles.css"/></head>
<body>
<header class="header">
  <button id="burger" class="burger" aria-label="Open menu"></button>
  <div class="brand"><div class="logo"></div><div>FindMe</div></div>
  <nav class="row" style="gap:8px">
    <a class="link" href="./admin.html">Admin</a>
    <a id="nav-stores" class="link" href="./admin-stores.html" style="display:none">Stores</a>
  </nav>
</header>
<div id="overlay" class="overlay"></div>
<aside id="drawer" class="drawer">
  <header><strong>Menu</strong></header>
  <a href="#section-campaigns" data-nav>Available campaigns</a>
  <a href="#section-applications" data-nav>My applications</a>
  <a href="#section-checkin" data-nav>Store check-in</a>
  <a href="#section-hours" data-nav>My hours</a>
  <a href="#section-forms" data-nav>Forms</a>
  <a href="#section-profile" data-nav>My profile</a>
</aside>
<main class="container">
  <section id="auth-card" class="grid grid-2">
    <div class="card">
      <h2>Create account</h2>
      <form id="signup-form">
        <label for="su-name">Full name</label><input id="su-name" required />
        <div class="row"><div><label for="su-email">Email</label><input id="su-email" type="email" required /></div><div><label for="su-phone">Phone</label><input id="su-phone" type="tel" required /></div></div>
        <div class="row"><div><label for="su-province">Province</label><select id="su-province" required></select></div><div><label for="su-pass">Password</</div></div>
        <div class="row"><div></div><div><input id="su-pass" type="password" required /></div></div>
        <div style="margin-top:10px"><button type="submit">Sign up</button></div>
      </form>
    </div>
    <div class="card">
      <h2>Sign in</h2>
      <form id="login-form"><label>Email</label><input id="li-email" type="email" required /><label>Password</label><input id="li-pass" type="password" required /><div style="margin-top:10px"><button type="submit">Sign in</button></div></form>
    </div>
  </section>

  <section id="promoter-app" class="hidden">
    <div class="row" style="justify-content:space-between;align-items:center;margin-bottom:8px">
      <h2 style="margin:0">Welcome, <span id="promoter-name"></span></h2>
      <button id="logout-btn" class="secondary">Log out</button>
    </div>

    <section id="section-campaigns" data-section class="card">
      <div class="section-title"><h2>Available campaigns</h2></div>
      <table class="table"><thead><tr><th>Campaign</th><th>Location/Date</th><th>Action</th></tr></thead><tbody id="avail-tbody"></tbody></table>
      <p class="small muted">Pay is private with admins; this view hides rates.</p>
    </section>

    <section id="section-applications" data-section class="card hidden" style="margin-top:16px">
      <h2>My applications</h2>
      <table class="table"><thead><tr><th>Campaign</th><th>Location/Date/Store</th><th>Status</th></tr></thead><tbody id="myapps-tbody"></tbody></table>
    </section>

    <section id="section-checkin" data-section class="card hidden" style="margin-top:16px">
      <div class="section-title"><h2>Store check-in</h2></div>
      <div id="ci-banner" class="badge warn hidden">You have an active check-in running.</div>
      <div class="small muted">Tap your assigned store in <em>My applications</em>, or this auto-selects your first approved assignment.</div>
      <div style="margin-top:8px"><div><strong id="ci-store" data-store="" data-campaign="">—</strong></div><div class="small muted">Campaign: <span id="ci-campaign">—</span></div></div>
      <div style="margin-top:12px;display:flex;align-items:center;gap:12px">
        <div class="badge"><span id="ci-timer">00:00:00</span></div>
        <button id="ci-btn">Check In</button>
      </div>
      <p class="small muted">If geofence is <strong>ON</strong> for the store, you must be inside its GPS radius to check in.</p>
    </section>

    <section id="section-hours" data-section class="card hidden" style="margin-top:16px">
      <div class="section-title"><h2>My hours</h2></div>
      <div id="hours-list"></div>
    </section>

    <section id="section-forms" data-section class="card hidden" style="margin-top:16px">
      <h2>Forms</h2>
      <p class="small muted">General forms + those linked to campaigns you've applied for.</p>
      <table class="table"><thead><tr><th>Form</th><th>Campaign</th><th>Action</th></tr></thead><tbody id="forms-list"></tbody></table>
    </section>

    <section id="section-profile" data-section class="card hidden" style="margin-top:16px">
      <h2>My profile</h2>
      <p class="small muted">Demo only — don't use real ID/banking.</p>
      <form id="profile-form">
        <div class="row"><div><label>Full name</label><input id="pf-name" /></div><div><label>ID/Passport number</label><input id="pf-idnum" /></div></div>
        <div class="row"><div><label>Email</label><input id="pf-email" type="email" /></div><div><label>Phone</label><input id="pf-phone" type="tel" /></div></div>
        <h3 class="small muted" style="margin-top:12px">Address</h3>
        <div class="row"><div><label>Address line 1</label><input id="pf-line1" /></div><div><label>Address line 2</label><input id="pf-line2" /></div></div>
        <div class="row"><div><label>City</label><input id="pf-city" /></div><div><label>Postal code</label><input id="pf-postal" /></div><div><label>Country</label><input id="pf-country" value="South Africa" /></div></div>
        <div class="row"><div><label>Province</label><select id="pf-province"></select></div></div>
        <h3 class="small muted" style="margin-top:12px">Banking</h3>
        <div class="row"><div><label>Account holder</label><input id="pf-accholder" /></div><div><label>Bank name</label><input id="pf-bankname" /></div></div>
        <div class="row"><div><label>IBAN</label><input id="pf-iban" placeholder="Optional" /></div><div><label>Account number</label><input id="pf-accnum" /></div></div>
        <div class="row"><div><label>Account type</label><input id="pf-acctype" placeholder="Cheque / Savings" /></div><div><label>Branch code</label><input id="pf-branch" /></div></div>
        <h3 class="small muted" style="margin-top:12px">CV</h3>
        <div class="row"><div><input id="cv-file" type="file" accept=".pdf,.doc,.docx,.png,.jpg,.jpeg" /></div><div id="cv-info" class="small muted" style="display:flex;align-items:center"></div></div>
        <div style="margin-top:12px"><button type="submit">Save profile</button></div>
      </form>
    </section>
  </section>
</main>

<section id="form-modal" class="hidden modal-overlay">
  <div class="card modal">
    <div class="row" style="justify-content:space-between;align-items:center"><h2 style="margin:0"><span id="fm-title">Form</span></h2><button id="fm-close" class="secondary">Close</button></div>
    <form id="fm-form" style="margin-top:8px"></form>
    <div class="row" style="justify-content:flex-end;margin-top:8px"><button id="fm-submit" class="warning">Submit</button></div>
  </div>
</section>

<footer>© <span id="y"></span> FindMe — promoter</footer>
<script type="module" src="./assets/js/storage.js"></script>
<script type="module" src="./assets/js/constants.js"></script>
<script type="module" src="./assets/js/ui.js"></script>
<script type="module" src="./assets/js/auth.js"></script>
<script type="module" src="./assets/js/promoter.js"></script>
<script type="module">import { showStoresLinkIfAdmin } from './assets/js/ui.js'; document.getElementById('y').textContent=new Date().getFullYear(); showStoresLinkIfAdmin();</script>
</body></html>
