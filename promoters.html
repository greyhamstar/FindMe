<!DOCTYPE html><html lang='en'><head><meta charset='UTF-8'/><meta name='viewport' content='width=device-width, initial-scale=1.0'/><title>FindMe â€” Browse Promoters</title><link rel='stylesheet' href='css/style.css'/></head><body><header class='header'><div class='logo'>FindMe!</div><nav class='flex'><a class='badge' href='dashboard.html'>Dashboard</a><button id='logoutBtn' class='badge secondary'>Logout</button></nav></header><main class='container'><div class='card'><h1>Browse Promoters</h1><p class='small'>Filter by name/email and province. Only available to company accounts.</p><div class='grid grid-2'><div><label>Search</label><input id='q' placeholder='Type a name or email'/></div><div><label>Region (Province)</label><select id='region'><option value=''>All Regions</option><option value='Eastern Cape'>Eastern Cape</option><option value='Free State'>Free State</option><option value='Gauteng'>Gauteng</option><option value='KwaZulu-Natal'>KwaZulu-Natal</option><option value='Limpopo'>Limpopo</option><option value='Mpumalanga'>Mpumalanga</option><option value='North West'>North West</option><option value='Northern Cape'>Northern Cape</option><option value='Western Cape'>Western Cape</option></select></div></div><div class='flex'><button id='refreshBtn'>Apply Filters</button><button id='clearBtn' class='secondary'>Clear</button><span class='right small' id='count'></span></div><table class='table' id='promoterTable'><thead><tr><th>Name</th><th>Region</th><th>Email</th><th>SA ID</th><th>CV</th></tr></thead><tbody></tbody></table></div></main><script src='js/app.js'></script><script>const me=getSession();protect(me);if(!me||me.role!=='company'){window.location.href='dashboard.html';}document.getElementById('logoutBtn').addEventListener('click',logout);const q=document.getElementById('q');const regionSel=document.getElementById('region');const tbody=document.querySelector('#promoterTable tbody');const count=document.getElementById('count');function render(){const query=q.value.trim().toLowerCase();const region=regionSel.value;const promoters=listPromoters().filter(p=>{const matchQ=!query||(`${p.firstName||''} ${p.surname||''} ${p.email||''}`.toLowerCase().includes(query));const matchR=!region||p.region===region;return matchQ&&matchR;});tbody.innerHTML='';promoters.forEach(p=>{const tr=document.createElement('tr');tr.innerHTML=`<td>${p.firstName||''} ${p.surname||''}</td><td>${p.region||'-'}</td><td>${p.email||'-'}</td><td>${p.idNumber||'-'}</td><td>${p.cvName||'-'}</td>`;tbody.appendChild(tr);});count.textContent=promoters.length+' promoter(s)';}document.getElementById('refreshBtn').addEventListener('click',render);document.getElementById('clearBtn').addEventListener('click',()=>{q.value='';regionSel.value='';render();});render();</script></body></html>